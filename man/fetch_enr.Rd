% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fetch_enrollment.R
\name{fetch_enr}
\alias{fetch_enr}
\title{Fetch Ohio enrollment data}
\usage{
fetch_enr(end_year, tidy = TRUE, use_cache = TRUE)
}
\arguments{
\item{end_year}{A school year. Year is the end of the academic year - eg 2023-24
school year is year '2024'. Valid values are 2015 onwards (earlier years may
have limited data or different formats).}

\item{tidy}{If TRUE (default), returns data in long (tidy) format with subgroup
column. If FALSE, returns wide format with one row per entity.}

\item{use_cache}{If TRUE (default), uses locally cached data when available.
Set to FALSE to force re-download from ODEW.}
}
\value{
Data frame with enrollment data. Tidy format includes columns:
\itemize{
\item end_year: School year end (e.g., 2024 for 2023-24)
\item district_irn: 6-digit district IRN
\item building_irn: 6-digit building IRN (NA for district-level)
\item district_name: Name of the district
\item building_name: Name of the building (NA for district-level)
\item entity_type: "District" or "Building"
\item county: Ohio county name
\item grade_level: Grade level or "TOTAL"
\item subgroup: Demographic or population subgroup
\item n_students: Student count
\item pct: Percentage of total enrollment
}
}
\description{
Downloads and processes enrollment data from the Ohio Department of
Education and Workforce EMIS data files. Data is available from the
Ohio School Report Cards data download portal.
}
\examples{
\dontrun{
# Get 2024 enrollment data (2023-24 school year)
enr_2024 <- fetch_enr(2024)

# Get wide format (one row per entity)
enr_wide <- fetch_enr(2024, tidy = FALSE)

# Force fresh download (ignore cache)
enr_fresh <- fetch_enr(2024, use_cache = FALSE)

# Get multiple years
enr_multi <- purrr::map_df(2020:2024, fetch_enr)
}
}
