% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fetch_directory.R
\name{fetch_directory}
\alias{fetch_directory}
\title{Fetch Ohio school directory data}
\usage{
fetch_directory(end_year = NULL, tidy = TRUE, use_cache = TRUE)
}
\arguments{
\item{end_year}{Currently unused. The directory data represents current
schools and is not year-specific. Included for API consistency with
other fetch functions.}

\item{tidy}{If TRUE (default), returns data in a standardized format with
consistent column names. If FALSE, returns raw column names from OEDS.}

\item{use_cache}{If TRUE (default), uses locally cached data when available.
Set to FALSE to force re-download from ODEW.}
}
\value{
A tibble with school directory data. Columns include:
\itemize{
\item \code{irn}: 6-digit IRN (Information Retrieval Number)
\item \code{state_school_id}: IRN (same as irn, for schema consistency)
\item \code{state_district_id}: Parent IRN (district IRN for schools)
\item \code{school_name}: Name of the school or district
\item \code{district_name}: Parent organization name
\item \code{school_type}: Grade-level category (Elementary, High School, etc.)
\item \code{org_type}: Organization type (Public School, Public District, etc.)
\item \code{org_category}: Category (School, District, etc.)
\item \code{grades_served}: Grade span served
\item \code{status}: Organization status (Open, Closed, etc.)
\item \code{county}: Ohio county name
\item \code{address}: Full mailing address
\item \code{city}: City (parsed from address)
\item \code{state}: State (always "Ohio")
\item \code{zip}: ZIP code (parsed from address)
\item \code{phone}: Phone number
\item \code{fax}: Fax number
\item \code{website}: Organization website URL
\item \code{email}: Organization email address
\item \code{superintendent_name}: Superintendent name
\item \code{superintendent_email}: Superintendent email
\item \code{superintendent_phone}: Superintendent phone
\item \code{treasurer_name}: Treasurer name
\item \code{treasurer_email}: Treasurer email
\item \code{principal_name}: Principal name
\item \code{principal_email}: Principal email
\item \code{principal_phone}: Principal phone
}
}
\description{
Downloads and processes school directory data from the Ohio Department of
Education and Workforce OEDS (Ohio Educational Directory System). This
includes all public schools and districts with contact information and
administrator names.
}
\details{
The directory data is downloaded from the OEDS Data Extract API. This data
represents the current state of Ohio schools and districts and is updated
regularly by ODEW.
}
\examples{
\dontrun{
# Get school directory data
dir_data <- fetch_directory()

# Get raw format (original OEDS column names)
dir_raw <- fetch_directory(tidy = FALSE)

# Force fresh download (ignore cache)
dir_fresh <- fetch_directory(use_cache = FALSE)

# Filter to active schools only
library(dplyr)
active_schools <- dir_data |>
  filter(org_category == "School", status == "Open")

# Find all schools in a district
columbus_schools <- dir_data |>
  filter(state_district_id == "043802", org_category == "School")
}
}
